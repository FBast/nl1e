<form class="pl1e flexcol" autocomplete="off">
    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        {{!-- Default tab is specified in actor-sheet.mjs --}}
        <a class="item" data-tab="rest">{{localize "PL1E.Rest"}}</a>
        <a class="item" data-tab="abilities">{{localize "PL1E.Abilities"}}</a>
        <a class="item" data-tab="skills">{{localize "PL1E.Skills"}}</a>
    </nav>
    {{!-- Sheet Body --}}
    <section class="sheet-body">
        {{!-- Rest Tab --}}
        <div class="tab rest flexcol" data-group="primary" data-tab="rest">
            <section class="scroll-auto">
                <p>Resting for 8 hours will give you the following benefits:</p>
                <ul>
                    <li>+{{ health }} health</li>
                    <li>+{{ stamina }} stamina</li>
                    <li>+{{ mana }} mana</li>
                </ul>
                <p>Select items to consume:</p>
                <ol class="items-list">
                    {{#each commons}}
                        <li class="item" data-item-id="{{_id}}">
                            <div class="flexrow">
                                <img class="item-image item-edit hover-red" src="{{img}}" title="{{name}}" width="24" height="24" data-item-id='{{_id}}'/>
                                <label class="item-name hover-red">{{name}}</label>
                                <div class="item-controls">
                                    <a class="item-control item-eat" data-item-id="{{_id}}" data-tooltip='{{localize "PL1E.Eat"}}'><i class="fas fa-fork-knife"></i></a>
                                    <a class="item-control item-drink" data-item-id="{{_id}}" data-tooltip='{{localize "PL1E.Drink"}}'><i class="fas fa-glass"></i></a>
                                </div>
                            </div>
                            <div class="item-tooltip">{{{system.description}}}</div>
                        </li>
                    {{/each}}
                </ol>
            </section>
        </div>
        {{!-- Abilities Tab --}}
        <div class="tab abilities flexcol" data-group="primary" data-tab="abilities">
            <section class="scroll-auto">
                <p>You have {{ maxSlots }} slots to memorize new abilities.</p>
                <p>You have memorized {{ currentSlots }} abilities:</p>
                <ol class="items-list">
                    {{#each abilities as |abilities level|}}
                        {{#if (gt abilities.length 0)}}
                            <li class="item items-header flexrow">
                                <div class="item-name">{{localize "PL1E.AbilitiesLevel"}} {{level}}</div>
                            </li>
                            {{#each abilities}}
                                <li class="item" data-item-id="{{_id}}" data-item-uuid="{{system.flags.core.sourceUuid}}">
                                    <div class="flexrow">
                                        <img class="item-image item-edit hover-red" src="{{img}}" title="{{name}}" width="24" height="24" data-item-id='{{_id}}'/>
                                        <label class="item-name hover-red">{{name}}</label>
                                        <div class="item-stats grid-span-2">

                                        </div>
                                        <div class="item-controls">
                                            {{#if system.isMemorized}}
                                                <a class="item-control item-use" data-tooltip='{{localize "PL1E.Use"}}'><i class="fas fa-dice-d20"></i></a>
                                                <a class="item-control item-toggle" data-tooltip='{{localize "PL1E.Memorize"}}'><i class="fas fa-book"></i></a>
                                            {{else}}
                                                <a class="item-control icon-inactive item-toggle" data-tooltip='{{localize "PL1E.Memorize"}}'><i class="fas fa-book"></i></a>
                                            {{/if}}
                                        </div>
                                    </div>
                                    <div class="item-tooltip">{{{system.description}}}</div>
                                </li>
                            {{/each}}
                        {{/if}}
                    {{/each}}
                </ol>
            </section>
        </div>
        {{!-- Skills Tab --}}
        <div class="tab skills flexcol" data-group="primary" data-tab="skills">
            <section class="scroll-auto">
                <p>You have {{ ranks }} ranks available to increase your skill mastery.</p>
                <p>You can increase your skill mastery up to rank {{ maxRank }}.</p>
                <ul class="skills">
                    <!-- Listing defenses, resistances and skills -->
                    {{#each skills}}
                        <li class="skill grid grid-8col" data-skill-id={{@key}}>
                            <label class="grid-span-2 align-right">{{localize label}}</label>
                            <i class="align-center fas fa-dice-d{{dice}}"></i>
                            <div class="grid-span-5 flexrow">
                                {{#each ranks}}
                                    <i class="align-right far fa-circle-{{@key}}
                                        {{#if (eq state "bought")}}
                                            rank-control hover-red color-green
                                        {{else if (eq state "affordable")}}
                                            rank-control hover-red icon-inactive
                                        {{else if (eq state "notAffordable")}}
                                            color-red
                                        {{/if}}" data-rank="{{@key}}">
                                    </i>
                                {{/each}}
                            </div>
                        </li>
                    {{/each}}
                </ul>
            </section>
        </div>
    </section>
    <div class="flexrow">
        <button class="rest-confirm">
            <i class="fas fa-check"></i>
            Rest
        </button>
        <button class="rest-cancel">
            <i class="fas fa-times"></i>
            Cancel
        </button>
    </div>
</form>