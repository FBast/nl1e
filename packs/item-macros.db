{"name":"Magic Missile","type":"script","scope":"global","author":"GR03rr8HdmGJJJsz","img":"icons/svg/dice-target.svg","command":"new Sequence()\n    .effect()\n        .file(\"jb2a.fire_bolt.orange\")\n        .atLocation(args[0].id)\n        .stretchTo(args[1].id)\n        .missed(args[2].miss)\n    .play()","ownership":{"default":0,"GR03rr8HdmGJJJsz":3},"flags":{"advanced-macros":{"runAsGM":false,"runForSpecificUser":""},"core":{"sourceId":"Macro.IDQO2gr373FCcfVg"}},"_stats":{"systemId":"pl1e","systemVersion":"1.2.0","coreVersion":"10.291","createdTime":1683842264920,"modifiedTime":1683894477507,"lastModifiedBy":"GR03rr8HdmGJJJsz"},"folder":null,"sort":0,"_id":"mI3RBDjyJRjhaNbP"}
{"name":"Spell Activation","type":"script","scope":"global","author":"GR03rr8HdmGJJJsz","img":"icons/svg/dice-target.svg","command":"let tokenId = args[0].tokenId;\nlet mastery = args[0].item.system.attributes.mastery.value;\nlet active = args[1].active\n\nconst masteryToFile = {\n    \"arcana\": \"jb2a.magic_signs.circle.02.abjuration.complete\",\n    \"aramancia\": \"jb2a.magic_signs.circle.02.evocation.complete\",\n    \"biomancia\": \"jb2a.magic_signs.circle.02.transmutation.complete\",\n    \"diastamancia\": \"jb2a.magic_signs.circle.02.divination.complete\",\n    \"goetia\": \"jb2a.magic_signs.circle.02.enchantment.complete\",\n    \"myalomancia\": \"jb2a.magic_signs.circle.02.illusion.complete\",\n    \"necromancia\": \"jb2a.magic_signs.circle.02.necromancy.complete\",\n    \"theurgy\": \"jb2a.magic_signs.circle.02.conjuration.complete\"\n};\n\nif (active) {\n    new Sequence()\n    .effect()\n        .file(masteryToFile[mastery])\n        .attachTo(tokenId)\n        .scaleToObject(2)\n        .belowTokens()\n        .fadeIn(1500, {ease: \"easeOutCubic\", delay: 500})\n        .fadeOut(1500)\n        .rotateIn(90, 2500, {ease: \"easeInOutCubic\"})\n        .rotateOut(350, 1500, {ease: \"easeInCubic\"})\n        .scaleIn(2, 2500, {ease: \"easeInOutCubic\"})\n        .scaleOut(0, 1500, {ease: \"easeInCubic\"})\n        .persist()\n        .name(`SpellActivation-${tokenId}`)\n    .play()\n}\nelse {\n    await Sequencer.EffectManager.endEffects({ name: `SpellActivation-${tokenId}` })\n}","ownership":{"default":0,"GR03rr8HdmGJJJsz":3},"flags":{"advanced-macros":{"runAsGM":true,"runForSpecificUser":""},"core":{"sourceId":"Macro.WyXBno1eq7O10P7x"}},"_stats":{"systemId":"pl1e","systemVersion":"1.2.0","coreVersion":"10.291","createdTime":1683896228546,"modifiedTime":1683903157782,"lastModifiedBy":"GR03rr8HdmGJJJsz"},"folder":null,"sort":0,"_id":"Nnf8YJ2q06R9JduE"}
